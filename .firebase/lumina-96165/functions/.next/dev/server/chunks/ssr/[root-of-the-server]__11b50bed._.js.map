{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/chepuriharikiran/Desktop/github/lumina-ai-learning/src/app/teacher/dashboard/page.tsx"],"sourcesContent":["\nimport { Metadata } from 'next';\nimport { Suspense } from 'react';\nimport clientPromise from '@/lib/mongodb';\nimport { Users, BookOpen, BarChart2, FileText, Upload, PlusCircle, Bell, ArrowUpRight, ArrowDownRight } from 'lucide-react';\n\nexport const metadata: Metadata = {\n    title: 'Teacher Dashboard | Lumina',\n    description: 'Manage your classes and students',\n};\n\nasync function getTeacherStats() {\n    try {\n        const client = await clientPromise;\n        const db = client.db('lumina-database');\n\n        // Mocking aggregation for now until we have real data structure populated\n        // In a real scenario, we would count documents in collections\n        const studentCount = await db.collection('users').countDocuments({ role: 'student' });\n        const courseCount = await db.collection('courses').countDocuments({});\n\n        // These would be real aggregations\n        return {\n            totalStudents: studentCount || 24, // Fallback for demo if DB empty\n            activeCourses: courseCount || 3,\n            avgMastery: 87,\n            pendingGrading: 5\n        };\n    } catch (e) {\n        console.error(\"Failed to fetch stats\", e);\n        return {\n            totalStudents: 0,\n            activeCourses: 0,\n            avgMastery: 0,\n            pendingGrading: 0\n        };\n    }\n}\n\nexport default async function TeacherDashboard() {\n    const stats = await getTeacherStats();\n\n    return (\n        <>\n            <div className=\"mb-8 relative z-10\">\n                <h1 className=\"text-3xl md:text-4xl font-bold mb-2 text-white\">\n                    Welcome back, <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-amber-600\">Teacher</span>!\n                </h1>\n                <p className=\"text-gray-400\">Here's what's happening in your classes today.</p>\n            </div>\n\n            {/* Stats Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 relative z-10\">\n                <StatCard\n                    icon={Users}\n                    color=\"blue\"\n                    label=\"Total Students\"\n                    value={stats.totalStudents}\n                    subtext=\"Active learners\"\n                    trend=\"+12% this month\"\n                />\n                <StatCard\n                    icon={BookOpen}\n                    color=\"amber\"\n                    label=\"Active Courses\"\n                    value={stats.activeCourses}\n                    subtext=\"Courses managed\"\n                />\n                <StatCard\n                    icon={BarChart2}\n                    color=\"green\"\n                    label=\"Avg Mastery\"\n                    value={`${stats.avgMastery}%`}\n                    subtext=\"Class performance\"\n                    trend=\"+2.4% this week\"\n                />\n                <StatCard\n                    icon={FileText}\n                    color=\"purple\"\n                    label=\"To Grade\"\n                    value={stats.pendingGrading}\n                    subtext=\"Pending assessments\"\n                />\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 relative z-10\">\n                {/* Course List */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                    <div className=\"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl overflow-hidden\">\n                        <div className=\"p-6 border-b border-white/10 flex justify-between items-center\">\n                            <h2 className=\"text-xl font-bold text-white\">Your Courses</h2>\n                            <a href=\"/teacher/courses\" className=\"text-sm text-amber-500 hover:text-amber-400 font-medium\">View All</a>\n                        </div>\n                        <div className=\"divide-y divide-white/10\">\n                            {/* Placeholder Course Items */}\n                            <CourseItem\n                                name=\"Advanced Artificial Intelligence\"\n                                level=\"Graduate\"\n                                students={42}\n                                status=\"Active\"\n                                image=\"https://placehold.co/600x400/2a2a2a/FFF?text=AI\"\n                            />\n                            <CourseItem\n                                name=\"Introduction to Machine Learning\"\n                                level=\"Undergraduate\"\n                                students={128}\n                                status=\"Active\"\n                                image=\"https://placehold.co/600x400/1a1a1a/FFF?text=ML\"\n                            />\n                            <CourseItem\n                                name=\"Neural Networks Deep Dive\"\n                                level=\"Advanced\"\n                                students={15}\n                                status=\"Draft\"\n                                image=\"https://placehold.co/600x400/333/FFF?text=NN\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                {/* Quick Actions */}\n                <div className=\"space-y-6\">\n                    <div className=\"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-6\">\n                        <h2 className=\"text-xl font-bold text-white mb-4\">Quick Actions</h2>\n                        <div className=\"space-y-3\">\n                            <QuickActionButton\n                                icon={Upload}\n                                color=\"amber\"\n                                title=\"Upload Content\"\n                                subtitle=\"Add new materials\"\n                            />\n                            <QuickActionButton\n                                icon={PlusCircle}\n                                color=\"blue\"\n                                title=\"Create Assessment\"\n                                subtitle=\"New quiz or exam\"\n                            />\n                            <QuickActionButton\n                                icon={Bell}\n                                color=\"purple\"\n                                title=\"Announcement\"\n                                subtitle=\"Notify students\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\n// Helper Components\n\nfunction StatCard({ icon: Icon, color, label, value, subtext, trend }: any) {\n    const colorClasses: any = {\n        blue: 'bg-blue-900/30 text-blue-400',\n        amber: 'bg-amber-900/30 text-amber-400',\n        green: 'bg-green-900/30 text-green-400',\n        purple: 'bg-purple-900/30 text-purple-400',\n    };\n\n    return (\n        <div className=\"backdrop-blur-xl bg-white/5 border border-white/10 p-6 rounded-2xl hover:border-amber-500/50 transition-colors\">\n            <div className=\"flex items-center justify-between mb-4\">\n                <div className={`p-3 rounded-lg ${colorClasses[color]}`}>\n                    <Icon size={24} />\n                </div>\n                {trend && (\n                    <span className=\"text-xs font-semibold text-green-400 flex items-center\">\n                        <ArrowUpRight size={12} className=\"mr-1\" />\n                        {trend.split(' ')[0]}\n                    </span>\n                )}\n            </div>\n            <h3 className=\"text-3xl font-bold text-white\">{value}</h3>\n            <p className=\"text-sm text-gray-400 mt-2\">{subtext}</p>\n        </div>\n    );\n}\n\nfunction CourseItem({ name, level, students, status, image }: any) {\n    return (\n        <div className=\"p-6 hover:bg-white/5 transition-colors\">\n            <div className=\"flex items-start justify-between\">\n                <div className=\"flex gap-4\">\n                    <div className=\"w-16 h-16 rounded-lg bg-gray-800 overflow-hidden relative\">\n                        {/* Using a simple div placeholder if image fails, but logic implies valid src */}\n                        <img src={image} alt={name} className=\"w-full h-full object-cover\" />\n                    </div>\n                    <div>\n                        <h3 className=\"font-bold text-white mb-1\">{name}</h3>\n                        <p className=\"text-sm text-gray-400 mb-2\">{level} • {students} Students</p>\n                        <div className=\"flex items-center gap-2 text-xs\">\n                            <span className={`px-2 py-1 rounded-full ${status === 'Active' ? 'bg-green-900/30 text-green-400' : 'bg-gray-800 text-gray-400'}`}>\n                                {status}\n                            </span>\n                            <span className=\"text-gray-500\">•</span>\n                            <span className=\"text-gray-500\">Updated recently</span>\n                        </div>\n                    </div>\n                </div>\n                <button className=\"p-2 text-gray-400 hover:text-amber-500 transition-colors\">\n                    <ArrowDownRight className=\"w-6 h-6\" />\n                </button>\n            </div>\n        </div>\n    );\n}\n\nfunction QuickActionButton({ icon: Icon, color, title, subtitle }: any) {\n    const colorClasses: any = {\n        blue: 'bg-blue-900/30 text-blue-400',\n        amber: 'bg-amber-900/30 text-amber-400',\n        purple: 'bg-purple-900/30 text-purple-400',\n    };\n    return (\n        <button className=\"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-white/5 transition-colors text-left border border-transparent hover:border-amber-500/20\">\n            <div className={`p-2 rounded-lg ${colorClasses[color]}`}>\n                <Icon size={20} />\n            </div>\n            <div>\n                <p className=\"font-semibold text-white\">{title}</p>\n                <p className=\"text-xs text-gray-400\">{subtitle}</p>\n            </div>\n        </button>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}