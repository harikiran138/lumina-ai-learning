{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/chepuriharikiran/Desktop/github/lumina-ai-learning/src/app/admin/dashboard/page.tsx"],"sourcesContent":["\nimport { Metadata } from 'next';\nimport clientPromise from '@/lib/mongodb';\nimport { Users, BookOpen, Database, Shield, Activity, Server, AlertTriangle, CheckCircle } from 'lucide-react';\n\nexport const metadata: Metadata = {\n    title: 'Admin Dashboard | Lumina',\n    description: 'System administration and overview',\n};\n\nasync function getAdminStats() {\n    try {\n        // Use Server Action\n        const { getAdminDashboard } = await import('@/app/actions/data');\n        const stats = await getAdminDashboard('admin@lumina.com'); // Could pass dynamic email if available\n\n        return stats || {\n            totalUsers: 0,\n            totalCourses: 0,\n            systemHealth: '0%',\n            securityAlerts: 0\n        };\n    } catch (e) {\n        console.error(\"Failed to fetch admin stats\", e);\n        return {\n            totalUsers: 0,\n            totalCourses: 0,\n            systemHealth: '0%',\n            securityAlerts: 0\n        };\n    }\n}\n\nexport default async function AdminDashboard() {\n    const stats = await getAdminStats();\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"mb-8 relative z-10\">\n                <h1 className=\"text-3xl md:text-4xl font-bold mb-2 text-white\">\n                    System <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-600\">Overview</span>\n                </h1>\n                <p className=\"text-gray-400\">Monitor system performance and user activity.</p>\n            </div>\n\n            {/* Stats Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 relative z-10\">\n                <StatCard\n                    icon={Users}\n                    color=\"blue\"\n                    label=\"Total Users\"\n                    value={stats.totalUsers}\n                    subtext=\"Registered accounts\"\n                    trend=\"+12% growth\"\n                />\n                <StatCard\n                    icon={BookOpen}\n                    color=\"amber\"\n                    label=\"Total Courses\"\n                    value={stats.totalCourses}\n                    subtext=\"Active curricula\"\n                />\n                <StatCard\n                    icon={Activity}\n                    color=\"green\"\n                    label=\"System Health\"\n                    value={`${stats.systemHealth}%`}\n                    subtext=\"Operational status\"\n                />\n                <StatCard\n                    icon={Shield}\n                    color=\"purple\"\n                    label=\"Security\"\n                    value={stats.securityAlerts}\n                    subtext=\"Active alerts\"\n                    trend=\"Secure\"\n                />\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 relative z-10\">\n                {/* System Status */}\n                <div className=\"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-6\">\n                    <h2 className=\"text-xl font-bold text-white mb-6 flex items-center gap-2\">\n                        <Server className=\"w-5 h-5 text-gray-400\" />\n                        System Status\n                    </h2>\n                    <div className=\"space-y-4\">\n                        <StatusItem name=\"Database Cluster\" status=\"Operational\" />\n                        <StatusItem name=\"API Gateway\" status=\"Operational\" />\n                        <StatusItem name=\"Content Delivery\" status=\"Operational\" />\n                        <StatusItem name=\"Authentication\" status=\"Operational\" />\n                        <StatusItem name=\"Backup Systems\" status=\"Idle\" />\n                    </div>\n                </div>\n\n                {/* Recent Activity Logs */}\n                <div className=\"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-6\">\n                    <h2 className=\"text-xl font-bold text-white mb-6 flex items-center gap-2\">\n                        <Activity className=\"w-5 h-5 text-gray-400\" />\n                        Recent Logs\n                    </h2>\n                    <div className=\"space-y-4\">\n                        {/* Mock Logs */}\n                        <LogItem time=\"10:42 AM\" action=\"User Login\" detail=\"teacher@lumina.edu\" status=\"success\" />\n                        <LogItem time=\"10:38 AM\" action=\"Course Created\" detail=\"Intro to ML\" status=\"success\" />\n                        <LogItem time=\"10:15 AM\" action=\"Backup Config\" detail=\"System Snapshot\" status=\"info\" />\n                        <LogItem time=\"09:55 AM\" action=\"Failed Login\" detail=\"IP: 192.168.1.1\" status=\"warning\" />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n// Helpers\n\nfunction StatCard({ icon: Icon, color, label, value, subtext, trend }: any) {\n    const colorClasses: any = {\n        blue: 'bg-blue-900/30 text-blue-400',\n        amber: 'bg-amber-900/30 text-amber-400',\n        green: 'bg-green-900/30 text-green-400',\n        purple: 'bg-purple-900/30 text-purple-400',\n    };\n\n    return (\n        <div className=\"backdrop-blur-xl bg-white/5 border border-white/10 p-6 rounded-2xl hover:border-blue-500/50 transition-colors\">\n            <div className=\"flex items-center justify-between mb-4\">\n                <div className={`p-3 rounded-lg ${colorClasses[color]}`}>\n                    <Icon size={24} />\n                </div>\n                {trend && (\n                    <span className=\"text-xs font-semibold text-gray-400\">{trend}</span>\n                )}\n            </div>\n            <h3 className=\"text-3xl font-bold text-white\">{value}</h3>\n            <p className=\"text-sm text-gray-400 mt-2\">{subtext}</p>\n        </div>\n    );\n}\n\nfunction StatusItem({ name, status }: any) {\n    return (\n        <div className=\"flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors border border-transparent hover:border-gray-700\">\n            <span className=\"text-white font-medium\">{name}</span>\n            <div className=\"flex items-center gap-2\">\n                <div className={`w-2 h-2 rounded-full ${status === 'Operational' ? 'bg-green-500' : 'bg-yellow-500'}`}></div>\n                <span className={`text-sm ${status === 'Operational' ? 'text-green-400' : 'text-yellow-400'}`}>{status}</span>\n            </div>\n        </div>\n    );\n}\n\nfunction LogItem({ time, action, detail, status }: any) {\n    const statusColors: any = {\n        success: 'text-green-400',\n        warning: 'text-red-400',\n        info: 'text-blue-400'\n    };\n\n    return (\n        <div className=\"flex items-center justify-between text-sm py-2 border-b border-gray-800 last:border-0\">\n            <div className=\"flex items-center gap-3\">\n                <span className=\"text-gray-500 font-mono text-xs\">{time}</span>\n                <span className=\"text-white font-medium\">{action}</span>\n            </div>\n            <span className={`text-xs ${statusColors[status]}`}>{detail}</span>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}